(function(e){function t(t){for(var r,c,o=t[0],u=t[1],s=t[2],v=0,d=[];v<o.length;v++)c=o[v],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/simplenetflix-vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0220":function(e,t,n){},"05cf":function(e,t,n){"use strict";n("1005")},"0bc9":function(e,t,n){},1005:function(e,t,n){},"16a0":function(e,t,n){},2858:function(e,t,n){},"28a6":function(e,t,n){"use strict";n("0220")},"296a":function(e,t,n){},"2b5e":function(e,t,n){"use strict";n("5d8c")},4173:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={class:"content"};function i(e,t,n,i,c,o){var u=Object(r["A"])("Navbar"),s=Object(r["A"])("router-view");return Object(r["t"])(),Object(r["f"])(r["a"],null,[Object(r["i"])(u),Object(r["g"])("div",a,[Object(r["i"])(s)])],64)}var c=function(e){return Object(r["w"])("data-v-0a035516"),e=e(),Object(r["u"])(),e},o={class:"navbar"},u=c((function(){return Object(r["g"])("h1",null,"SimpleNetflix",-1)})),s={class:"links"},l={class:"left-links"},v=Object(r["h"])("My List"),d={class:"right-links"},m={key:0},b={key:1},f=Object(r["h"])("Signup"),p=Object(r["h"])("Login");function O(e,t,n,a,i,c){var O=Object(r["A"])("router-link");return Object(r["t"])(),Object(r["f"])("div",o,[Object(r["g"])("nav",null,[Object(r["i"])(O,{to:{name:"Home"}},{default:Object(r["I"])((function(){return[u]})),_:1}),Object(r["g"])("div",s,[Object(r["J"])(Object(r["g"])("div",l,[Object(r["i"])(O,{to:{name:"MyList"}},{default:Object(r["I"])((function(){return[v]})),_:1})],512),[[r["F"],a.user]]),Object(r["g"])("div",d,[a.user?(Object(r["t"])(),Object(r["f"])("div",m,[Object(r["g"])("button",{onClick:t[0]||(t[0]=function(){return a.handleClick&&a.handleClick.apply(a,arguments)})},"Logout")])):(Object(r["t"])(),Object(r["f"])("div",b,[Object(r["i"])(O,{class:"btn",to:{name:"Signup"}},{default:Object(r["I"])((function(){return[f]})),_:1}),Object(r["i"])(O,{class:"btn",to:{name:"Login"}},{default:Object(r["I"])((function(){return[p]})),_:1})]))])])])])}var j=n("1da1"),g=(n("96cf"),n("4f60")),h=(n("256a"),n("1862"),{apiKey:"AIzaSyArhDqUp0pWARiYD5DwtIkrw_vzBrubxGo",authDomain:"simple-netflix-vue.firebaseapp.com",projectId:"simple-netflix-vue",storageBucket:"simple-netflix-vue.appspot.com",messagingSenderId:"478386080838",appId:"1:478386080838:web:f782adf7308cab906d0e47"});g["a"].initializeApp(h);var k=g["a"].firestore(),w=g["a"].auth(),y=(g["a"].firestore.FieldValue.serverTimestamp,Object(r["y"])(null)),x=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return y.value=null,e.prev=1,e.next=4,w.signOut();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0.message),y.value=e.t0.message;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),_=function(){return{error:y,logout:x}},L=_,M=Object(r["y"])(w.currentUser);w.onAuthStateChanged((function(e){M.value=e}));var I=function(){return{user:M}},R=I,S=n("6c02"),F={setup:function(){var e=L(),t=e.error,n=e.logout,r=R(),a=r.user,i=Object(S["c"])(),c=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:console.log("user logged out"),i.push({name:"Login"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{error:t,handleClick:c,user:a}}},C=(n("7840"),n("6b0d")),D=n.n(C);const J=D()(F,[["render",O],["__scopeId","data-v-0a035516"]]);var A=J,T={components:{Navbar:A}};n("05cf");const N=D()(T,[["render",i]]);var P=N,z={class:"home"};function H(e,t,n,a,i,c){var o=Object(r["A"])("Cover"),u=Object(r["A"])("MovieList");return Object(r["t"])(),Object(r["f"])("div",z,[Object(r["i"])(o),Object(r["i"])(u)])}var E=function(e){return Object(r["w"])("data-v-ae24a3b4"),e=e(),Object(r["u"])(),e},U={class:"row"},q=E((function(){return Object(r["g"])("h2",null,"Weekly Trend",-1)})),V={class:"slide"},K={class:"row"},W=E((function(){return Object(r["g"])("h2",null,"Top10",-1)})),B={class:"slide"},G={class:"row"},Y=E((function(){return Object(r["g"])("h2",null,"Netflix Original",-1)})),Q={class:"slide"},X={class:"row"},Z=E((function(){return Object(r["g"])("h2",null,"Action",-1)})),$={class:"slide"},ee={class:"row"},te=E((function(){return Object(r["g"])("h2",null,"Comedy",-1)})),ne={class:"slide"},re={class:"row"},ae=E((function(){return Object(r["g"])("h2",null,"Romance",-1)})),ie={class:"slide"};function ce(e,t,n,a,i,c){var o=Object(r["A"])("SingleMovie");return Object(r["t"])(),Object(r["f"])(r["a"],null,[Object(r["g"])("div",U,[q,Object(r["g"])("div",V,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(a.trend,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"movie-list",key:e.id},[Object(r["i"])(o,{movie:e},null,8,["movie"])])})),128))])]),Object(r["g"])("div",K,[W,Object(r["g"])("div",B,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(a.top,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"movie-list",key:e.id},[Object(r["i"])(o,{movie:e},null,8,["movie"])])})),128))])]),Object(r["g"])("div",G,[Y,Object(r["g"])("div",Q,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(a.origin,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"movie-list",key:e.id},[Object(r["i"])(o,{movie:e},null,8,["movie"])])})),128))])]),Object(r["g"])("div",X,[Z,Object(r["g"])("div",$,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(a.action,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"movie-list",key:e.id},[Object(r["i"])(o,{movie:e},null,8,["movie"])])})),128))])]),Object(r["g"])("div",ee,[te,Object(r["g"])("div",ne,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(a.comedy,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"movie-list",key:e.id},[Object(r["i"])(o,{movie:e},null,8,["movie"])])})),128))])]),Object(r["g"])("div",re,[ae,Object(r["g"])("div",ie,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(a.romance,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"movie-list",key:e.id},[Object(r["i"])(o,{movie:e},null,8,["movie"])])})),128))])])],64)}n("d3b7"),n("d81d"),n("fb6a");var oe="https://api.themoviedb.org/3",ue="304a9149a9088e1bb526b00111bc00a0",se=function(){var e=Object(r["y"])([]),t=Object(r["y"])([]),n=Object(r["y"])([]),a=Object(r["y"])([]),i=Object(r["y"])([]),c=Object(r["y"])([]),o=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(oe,"/trending/movie/week?api_key=").concat(ue));case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,e.value=r.results,e.value.map((function(e){e.isLike=!1,e.isFav=!1,e.isTv=!1})),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),u=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/discover/tv?api_key=").concat(ue,"&with_network=213"));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t.value=r.results,t.value.map((function(e){e.isLike=!1,e.isFav=!1,e.isTv=!0})),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/discover/movie?api_key=").concat(ue,"&sort_by=popularity.desc"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,i.value=n.results.slice(10),i.value.map((function(e){e.isLike=!1,e.isFav=!1,e.isTv=!1})),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/discover/movie?api_key=").concat(ue,"&with_genres=28"));case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,n.value=r.results,n.value.map((function(e){e.isLike=!1,e.isFav=!1,e.isTv=!1})),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/discover/movie?api_key=").concat(ue,"&with_genres=35"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a.value=n.results,a.value.map((function(e){e.isLike=!1,e.isFav=!1,e.isTv=!1})),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/discover/movie?api_key=").concat(ue,"&with_genres=10749"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,c.value=n.results,c.value.map((function(e){e.isLike=!1,e.isFav=!1,e.isTv=!1})),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return{getTrend:o,trend:e,getNetflixOrigin:u,origin:t,getAction:l,action:n,getComedy:v,comedy:a,getTop:s,top:i,getRomance:d,romance:c}},le=se,ve={class:"img"},de=["src"];function me(e,t,n,a,i,c){var o=Object(r["A"])("Modal"),u=Object(r["A"])("ModalDetail");return n.movie?(Object(r["t"])(),Object(r["f"])("div",{key:0,class:"movie",onMouseenter:t[1]||(t[1]=function(){return a.handleHover&&a.handleHover.apply(a,arguments)})},[Object(r["J"])(Object(r["g"])("div",ve,[Object(r["g"])("img",{src:"https://image.tmdb.org/t/p/w300".concat(n.movie.poster_path),alt:""},null,8,de)],512),[[r["F"],!a.isHover]]),Object(r["J"])(Object(r["i"])(o,{movie:n.movie,onMouseleave:t[0]||(t[0]=function(e){return a.isHover=!1}),onShowDetail:a.toggleModalDetail},null,8,["movie","onShowDetail"]),[[r["F"],a.isHover]]),a.showModal?(Object(r["t"])(),Object(r["d"])(u,{key:0,movie:n.movie,onCloseDetail:a.closeModalDetail},null,8,["movie","onCloseDetail"])):Object(r["e"])("",!0)],32)):Object(r["e"])("",!0)}var be=n("a1e9"),fe=(n("b0c0"),function(e){return Object(r["w"])("data-v-1c498398"),e=e(),Object(r["u"])(),e}),pe={class:"modal"},Oe={class:"modal-img"},je=["src"],ge={class:"modal-info"},he={class:"modal-button"},ke={class:"btn-add"},we=fe((function(){return Object(r["g"])("i",{class:"fas fa-plus-circle"},null,-1)})),ye=[we],xe=fe((function(){return Object(r["g"])("i",{class:"far fa-check-circle"},null,-1)})),_e=[xe],Le=fe((function(){return Object(r["g"])("i",{class:"fas fa-thumbs-up"},null,-1)})),Me=[Le],Ie=fe((function(){return Object(r["g"])("i",{class:"fas fa-thumbs-up"},null,-1)})),Re=[Ie],Se=fe((function(){return Object(r["g"])("i",{class:"fas fa-chevron-circle-down"},null,-1)})),Fe=[Se],Ce={class:"modal-description"},De={class:"title"},Je={class:"vote"};function Ae(e,t,n,a,i,c){return Object(r["t"])(),Object(r["f"])("div",pe,[Object(r["g"])("div",Oe,[Object(r["g"])("img",{src:"https://image.tmdb.org/t/p/w300".concat(n.movie.poster_path),alt:""},null,8,je)]),Object(r["g"])("div",ge,[Object(r["g"])("div",he,[Object(r["g"])("div",ke,[Object(r["J"])(Object(r["g"])("div",{onClick:t[0]||(t[0]=function(e){return a.addFav(n.movie.uid?n.movie.uid:n.movie.id)})},ye,512),[[r["F"],!n.movie.isFav]]),Object(r["J"])(Object(r["g"])("div",{onClick:t[1]||(t[1]=function(e){return a.removeFav(n.movie.uid?n.movie.uid:n.movie.id)}),class:Object(r["o"])({fav:n.movie.isFav})},_e,2),[[r["F"],n.movie.isFav]])]),Object(r["J"])(Object(r["g"])("div",{class:"btn-like",onClick:t[2]||(t[2]=function(e){return a.addLike(n.movie.uid?n.movie.uid:n.movie.id)})},Me,512),[[r["F"],!n.movie.isLike]]),Object(r["J"])(Object(r["g"])("div",{onClick:t[3]||(t[3]=function(e){return a.removeLike(n.movie.uid?n.movie.uid:n.movie.id)}),class:Object(r["o"])({like:n.movie.isLike})},Re,2),[[r["F"],n.movie.isLike]]),Object(r["g"])("div",{class:"btn-info",onClick:t[4]||(t[4]=function(){return a.handleClick&&a.handleClick.apply(a,arguments)})},Fe)]),Object(r["g"])("div",Ce,[Object(r["g"])("div",De,[Object(r["g"])("p",null,Object(r["C"])(n.movie.title?n.movie.title:n.movie.name),1)]),Object(r["g"])("div",Je,[Object(r["g"])("p",null,Object(r["C"])(n.movie.vote_average)+" 平均評分",1)])])])])}n("c740"),n("a434"),n("4de4");var Te=function(e){var t=Object(r["y"])(null),n=function(){var n=Object(j["a"])(regeneratorRuntime.mark((function n(r){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.value=null,n.prev=1,n.next=4,k.collection(e).add(r);case 4:return a=n.sent,n.abrupt("return",a);case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}();return{error:t,addDoc:n}},Ne=Te,Pe=n("2909"),ze=Object(r["y"])(null),He=function(e){var t=Object(r["y"])(null),n=k.collection(e),a=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=7;break}return a=n.where.apply(n,Object(Pe["a"])(r)),e.next=5,a.get();case 5:i=e.sent,t.value=i.docs[0].id;case 7:return e.abrupt("return",t);case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),i=function(e){var t=n.doc(e);ze.value=null;try{var r=t.delete();return r}catch(a){console.log(a.message),ze.value="could not delete the document"}},c=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.doc(t),ze.value=null,e.prev=2,e.next=5,a.update(r);case 5:return i=e.sent,e.abrupt("return",i);case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0.message),ze.value="could not update the document";case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}();return{getMovieId:a,deleteDoc:i,updateDoc:c,movieId:t}},Ee=He,Ue=(n("99af"),"https://api.themoviedb.org/3"),qe="304a9149a9088e1bb526b00111bc00a0",Ve=function(e){var t=Object(r["y"])([]),n=Object(r["y"])([]),a=Object(r["y"])([]),i=function(){var r=Object(j["a"])(regeneratorRuntime.mark((function r(){var i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("".concat(Ue,"/movie/").concat(e,"?api_key=").concat(qe,"&append_to_response=casts,recommendations"));case 3:return i=r.sent,r.next=6,i.json();case 6:return c=r.sent,t.value=c,n.value=c.casts.cast.splice(0,3),a.value=c.recommendations.results.splice(0,9),r.abrupt("return",a);case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(){return r.apply(this,arguments)}}(),c=function(){var r=Object(j["a"])(regeneratorRuntime.mark((function r(){var i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("".concat(Ue,"/tv/").concat(e,"?api_key=").concat(qe,"&append_to_response=recommendations,aggregate_credits"));case 3:return i=r.sent,r.next=6,i.json();case 6:return c=r.sent,t.value=c,n.value=c.aggregate_credits.cast.splice(0,3),a.value=c.recommendations.results.splice(0,9),r.abrupt("return",a);case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(){return r.apply(this,arguments)}}();return{loadMovie:i,loadTv:c,movieInfo:t,movieCast:n,movieRecommend:a}},Ke=Ve,We=n("5c40"),Be={props:["movie"],setup:function(e,t){var n=t.emit,r=Ne("movielists"),a=r.error,i=r.addDoc,c=Ee("movielists"),o=(c.deleteDoc,c.updateDoc),u=c.getMovieId,s=c.movieId,l=R(),v=l.user,d=Ke(e.movie.uid?e.movie.uid:e.movie.id),m=d.loadMovie,b=d.loadTv,f=d.movieInfo,p=d.movieCast,O=d.movieRecommend;Object(We["z"])((function(){x(),_()}));var g=function(e){n("showDetail")},h=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){var r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.movie.isTv){t.next=5;break}return t.next=3,b();case 3:t.next=7;break;case 5:return t.next=7,m();case 7:return e.movie.isFav=!e.movie.isFav,r=JSON.parse(localStorage.getItem("favMovieList"))||[],c={poster_path:f.value.poster_path,backdrop_path:f.value.backdrop_path,title:f.value.title?f.value.title:f.value.name,name:f.value.name?f.value.name:f.value.title,vote:f.value.vote_average,release_date:f.value.release_date?f.value.release_date:f.value.first_air_date,cast:p.value,genres:f.value.genres,movieRecommend:O.value,userId:v.value.uid,uid:f.value.id,isFav:e.movie.isFav,isLike:e.movie.isLike,isTv:e.movie.isTv},r.push(c),localStorage.setItem("favMovieList",JSON.stringify(r)),t.next=14,i(c);case 14:t.sent,a.value||console.log("Movie added");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){var r,i,c,o,u,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.movie.isFav=!e.movie.isFav,r=Ee("movielists"),i=r.deleteDoc,c=r.getMovieId,o=r.movieId,u=JSON.parse(localStorage.getItem("favMovieList")),s=u.findIndex((function(e){return e.uid===n})),-1!==s){t.next=6;break}return t.abrupt("return");case 6:return u.splice(s,1),localStorage.removeItem("favMovieList"),localStorage.setItem("favMovieList",JSON.stringify(u)),t.next=11,c(["uid","==",n]);case 11:return t.next=13,i(o.value);case 13:a.value||console.log("Movie removed");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){var r,i,c,o,u,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=Ee("movielists"),i=r.updateDoc,c=r.getMovieId,o=r.movieId,!e.movie.isTv){t.next=6;break}return t.next=4,b();case 4:t.next=8;break;case 6:return t.next=8,m();case 8:if(e.movie.isLike=!e.movie.isLike,u=JSON.parse(localStorage.getItem("likeMovieList"))||[],s={poster_path:f.value.poster_path,backdrop_path:f.value.backdrop_path,title:f.value.title?f.value.title:f.value.name,name:f.value.name?f.value.name:f.value.title,vote:f.value.vote_average,release_date:f.value.release_date?f.value.release_date:f.value.first_air_date,cast:p.value?p.value:"",genres:f.value.genres,movieRecommend:O.value,userId:v.value.uid,uid:f.value.id,isFav:e.movie.isFav,isLike:e.movie.isLike,isTv:e.movie.isTv},u.push(s),localStorage.setItem("likeMovieList",JSON.stringify(u)),!e.movie.isFav){t.next=18;break}return t.next=16,c(["uid","==",n]);case 16:return t.next=18,i(o.value,s);case 18:a.value||console.log("Movie liked");case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){var r,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.movie.isLike=!e.movie.isLike,r=JSON.parse(localStorage.getItem("likeMovieList")),i=r.findIndex((function(e){return e.uid===n})),-1!==i){t.next=5;break}return t.abrupt("return");case 5:if(r.splice(i,1),localStorage.removeItem("likeMovieList"),localStorage.setItem("likeMovieList",JSON.stringify(r)),c={isLike:e.movie.isLike},!e.movie.isFav){t.next=14;break}return t.next=12,u(["uid","==",n]);case 12:return t.next=14,o(s.value,c);case 14:a.value||console.log("Movie unliked");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=JSON.parse(localStorage.getItem("favMovieList"))||[];if(t){var n=t.filter((function(t){if(t.uid===e.movie.id)return t}));n.length&&(e.movie["isFav"]=n[0].isFav)}},_=function(){var t=JSON.parse(localStorage.getItem("likeMovieList"))||[];if(t){var n=t.filter((function(t){if(t.uid===e.movie.id)return t}));n.length&&(e.movie["isLike"]=n[0].isLike)}};return{handleClick:g,addLike:w,removeLike:y,addFav:h,removeFav:k}}};n("6589");const Ge=D()(Be,[["render",Ae],["__scopeId","data-v-1c498398"]]);var Ye=Ge,Qe=(n("b680"),function(e){return Object(r["w"])("data-v-37f515f2"),e=e(),Object(r["u"])(),e}),Xe={class:"modal-detail"},Ze={class:"modal-img"},$e=["src"],et={class:"modal-info"},tt={class:"modal-button"},nt={class:"btn-add"},rt=Qe((function(){return Object(r["g"])("i",{class:"fas fa-plus-circle"},null,-1)})),at=[rt],it=Qe((function(){return Object(r["g"])("i",{class:"far fa-check-circle"},null,-1)})),ct=[it],ot=Qe((function(){return Object(r["g"])("i",{class:"fas fa-thumbs-up"},null,-1)})),ut=[ot],st=Qe((function(){return Object(r["g"])("i",{class:"fas fa-thumbs-up"},null,-1)})),lt=[st],vt={class:"modal-description"},dt={class:"movie-about"},mt={class:"title"},bt={class:"vote"},ft={class:"releasedate"},pt={class:"overview"},Ot={class:"movie-intro"},jt={class:"casts"},gt=Qe((function(){return Object(r["g"])("p",null,"Casts:",-1)})),ht={class:"genreses"},kt=Qe((function(){return Object(r["g"])("p",null,"Genres:",-1)})),wt=Qe((function(){return Object(r["g"])("h2",null,"Recommends",-1)})),yt={class:"modal-recommend"},xt={class:"recommend-img"},_t=["src"],Lt={class:"recommend-title"},Mt={class:"recommend-vote"},It={class:"recommend-overview"};function Rt(e,t,n,a,i,c){return Object(r["t"])(),Object(r["f"])("div",{class:"backdrop",onClick:t[4]||(t[4]=Object(r["K"])((function(){return a.close&&a.close.apply(a,arguments)}),["self"]))},[Object(r["g"])("div",Xe,[Object(r["g"])("div",Ze,[Object(r["g"])("img",{src:"https://image.tmdb.org/t/p/w780".concat(n.movie.backdrop_path),alt:""},null,8,$e)]),Object(r["g"])("div",et,[Object(r["g"])("div",tt,[Object(r["g"])("div",nt,[Object(r["J"])(Object(r["g"])("div",{onClick:t[0]||(t[0]=function(e){return a.addFav(n.movie.id)})},at,512),[[r["F"],!n.movie.isFav]]),Object(r["J"])(Object(r["g"])("div",{onClick:t[1]||(t[1]=function(e){return a.removeFav(n.movie.uid?n.movie.uid:n.movie.id)}),class:Object(r["o"])({fav:n.movie.isFav})},ct,2),[[r["F"],n.movie.isFav]])]),Object(r["J"])(Object(r["g"])("div",{class:"btn-like",onClick:t[2]||(t[2]=function(e){return a.addLike(n.movie.uid?n.movie.uid:n.movie.id)})},ut,512),[[r["F"],!n.movie.isLike]]),Object(r["J"])(Object(r["g"])("div",{onClick:t[3]||(t[3]=function(e){return a.removeLike(n.movie.uid?n.movie.uid:n.movie.id)}),class:Object(r["o"])({like:n.movie.isLike})},lt,2),[[r["F"],n.movie.isLike]])]),Object(r["g"])("div",vt,[Object(r["g"])("div",dt,[Object(r["g"])("div",mt,[Object(r["g"])("p",null,Object(r["C"])(n.movie.title?n.movie.title:n.movie.name),1)]),Object(r["g"])("div",bt,[Object(r["g"])("p",null,Object(r["C"])(n.movie.vote_average)+" 平均評分",1)]),Object(r["g"])("div",ft,Object(r["C"])(a.movieInfo.release_date?a.movieInfo.release_date:a.movieInfo.first_air_date),1),Object(r["g"])("div",pt,Object(r["C"])(n.movie.overview),1)]),Object(r["g"])("div",Ot,[Object(r["g"])("div",jt,[gt,(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(a.movieCast,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"cast",key:e.cast_id},Object(r["C"])(e.name),1)})),128))]),Object(r["g"])("div",ht,[kt,(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(a.movieInfo.genres,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"genres",key:e.id},Object(r["C"])(e.name),1)})),128))])])])]),wt,Object(r["g"])("div",yt,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(a.movieRecommend,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"recommend",key:e.id},[Object(r["g"])("div",xt,[Object(r["g"])("img",{src:"https://image.tmdb.org/t/p/w300".concat(e.poster_path),alt:""},null,8,_t)]),Object(r["g"])("div",Lt,Object(r["C"])(e.title?e.title:e.name),1),Object(r["g"])("div",Mt,[Object(r["g"])("p",null,Object(r["C"])(e.vote_average.toFixed(1))+" 平均評分",1)]),Object(r["g"])("div",It,[Object(r["g"])("p",null,Object(r["C"])(e.overview.substring(0,100)+"..."),1)])])})),128))])])])}var St={props:["movie"],setup:function(e,t){var n=t.emit,r=Ne("movielists"),a=r.error,i=r.addDoc,c=Ee("movielists"),o=(c.deleteDoc,c.updateDoc),u=c.getMovieId,s=c.movieId,l=R(),v=l.user,d=Ke(e.movie.uid?e.movie.uid:e.movie.id),m=d.loadMovie,b=d.loadTv,f=d.movieInfo,p=d.movieCast,O=d.movieRecommend;e.movie.isTv?b():m();var g=function(){n("closeDetail")},h=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){var r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.movie.isTv){t.next=5;break}return t.next=3,b();case 3:t.next=7;break;case 5:return t.next=7,m();case 7:return e.movie.isFav=!e.movie.isFav,r=JSON.parse(localStorage.getItem("favMovieList"))||[],c={poster_path:f.value.poster_path,backdrop_path:f.value.backdrop_path,title:f.value.title?f.value.title:f.value.name,name:f.value.name?f.value.name:f.value.title,vote:f.value.vote_average,release_date:f.value.release_date?f.value.release_date:f.value.first_air_date,cast:p.value,genres:f.value.genres,movieRecommend:O.value,userId:v.value.uid,uid:f.value.id,isFav:e.movie.isFav,isLike:e.movie.isLike,isTv:e.movie.isTv},r.push(c),localStorage.setItem("favMovieList",JSON.stringify(r)),t.next=14,i(c);case 14:t.sent,a.value||console.log("Movie added");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){var r,i,c,o,u,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.movie.isFav=!e.movie.isFav,r=Ee("movielists"),i=r.deleteDoc,c=r.getMovieId,o=r.movieId,u=JSON.parse(localStorage.getItem("favMovieList")),s=u.findIndex((function(e){return e.uid===n})),-1!==s){t.next=6;break}return t.abrupt("return");case 6:return u.splice(s,1),localStorage.removeItem("favMovieList"),localStorage.setItem("favMovieList",JSON.stringify(u)),t.next=11,c(["uid","==",n]);case 11:return t.next=13,i(o.value);case 13:a.value||console.log("Movie removed");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){var r,i,c,o,u,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=Ee("movielists"),i=r.updateDoc,c=r.getMovieId,o=r.movieId,!e.movie.isTv){t.next=6;break}return t.next=4,b();case 4:t.next=8;break;case 6:return t.next=8,m();case 8:if(e.movie.isLike=!e.movie.isLike,u=JSON.parse(localStorage.getItem("likeMovieList"))||[],s={poster_path:f.value.poster_path,backdrop_path:f.value.backdrop_path,title:f.value.title?f.value.title:f.value.name,name:f.value.name?f.value.name:f.value.title,vote:f.value.vote_average,release_date:f.value.release_date?f.value.release_date:f.value.first_air_date,cast:p.value,genres:f.value.genres,movieRecommend:O.value,userId:v.value.uid,uid:f.value.id,isFav:e.movie.isFav,isLike:e.movie.isLike,isTv:e.movie.isTv},u.push(s),localStorage.setItem("likeMovieList",JSON.stringify(u)),!e.movie.isFav){t.next=18;break}return t.next=16,c(["uid","==",n]);case 16:return t.next=18,i(o.value,s);case 18:a.value||console.log("Movie liked");case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){var r,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.movie.isLike=!e.movie.isLike,r=JSON.parse(localStorage.getItem("likeMovieList")),i=r.findIndex((function(e){return e.uid===n})),-1!==i){t.next=5;break}return t.abrupt("return");case 5:if(r.splice(i,1),localStorage.removeItem("likeMovieList"),localStorage.setItem("likeMovieList",JSON.stringify(r)),c={isLike:e.movie.isLike},!e.movie.isFav){t.next=14;break}return t.next=12,u(["uid","==",n]);case 12:return t.next=14,o(s.value,c);case 14:a.value||console.log("Movie unliked");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{close:g,movieInfo:f,movieCast:p,movieRecommend:O,addLike:w,removeLike:y,addFav:h,removeFav:k}}};n("d3d3");const Ft=D()(St,[["render",Rt],["__scopeId","data-v-37f515f2"]]);var Ct=Ft,Dt={props:["movie"],components:{Modal:Ye,ModalDetail:Ct},setup:function(e){var t=Object(be["l"])(!1),n=Object(be["l"])(!1),r=function(e){t.value=!t.value},a=function(){n.value=!n.value,t.value=!t.value},i=function(){n.value=!n.value};return{handleHover:r,isHover:t,toggleModalDetail:a,showModal:n,closeModalDetail:i}}};n("5c97");const Jt=D()(Dt,[["render",me],["__scopeId","data-v-19ad6b40"]]);var At=Jt,Tt={components:{SingleMovie:At,Modal:Ye},setup:function(){var e=le(),t=e.getTrend,n=e.getNetflixOrigin,r=e.getAction,a=e.getComedy,i=e.getTop,c=e.getRomance,o=e.trend,u=e.origin,s=e.action,l=e.comedy,v=e.top,d=e.romance;return Object(We["z"])(Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.next=4,i();case 4:return e.next=6,n();case 6:return e.next=8,r();case 8:return e.next=10,a();case 10:return e.next=12,c();case 12:case"end":return e.stop()}}),e)})))),{trend:o,origin:u,action:s,comedy:l,top:v,romance:d}}};n("adf4");const Nt=D()(Tt,[["render",ce],["__scopeId","data-v-ae24a3b4"]]);var Pt=Nt,zt={key:0,class:"cover"},Ht={class:"cover-title"},Et={class:"cover-overview"};function Ut(e,t,n,a,i,c){var o=Object(r["A"])("ModalDetail");return Object(r["t"])(),Object(r["f"])(r["a"],null,[a.movie?(Object(r["t"])(),Object(r["f"])("div",zt,[Object(r["g"])("div",{class:"cover-img",style:Object(r["p"])({"background-image":"url('".concat(a.coverUrl,"')")})},null,4),Object(r["g"])("div",Ht,[Object(r["g"])("h1",null,Object(r["C"])(a.movie.title),1)]),Object(r["g"])("div",Et,Object(r["C"])(a.movie.overview),1),Object(r["g"])("button",{class:"cover-info",onClick:t[0]||(t[0]=Object(r["K"])((function(){return a.handleClick&&a.handleClick.apply(a,arguments)}),["prevent"]))},"More info")])):Object(r["e"])("",!0),a.showModal?(Object(r["t"])(),Object(r["d"])(o,{key:1,movie:a.movie,onCloseDetail:a.closeModalDetail,onAddLike:a.toggleIsLike,onAddFav:a.toggleAddFav,onRemoveFav:a.toggleRemoveFav},null,8,["movie","onCloseDetail","onAddLike","onAddFav","onRemoveFav"])):Object(r["e"])("",!0)],64)}n("a9e3");var qt={components:{ModalDetail:Ct},setup:function(){var e=le(),t=e.getTrend,n=e.trend,r=Object(be["l"])(!1),a=Object(be["l"])(Number),i=Object(be["l"])(""),c=Object(be["l"])({}),o=Object(be["l"])("");a.value=Math.floor(20*Math.random()),Object(We["z"])(Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:u();case 3:case"end":return e.stop()}}),e)}))));var u=function(){return c.value=n.value[a.value],o.value=c.value.backdrop_path,i.value="https://image.tmdb.org/t/p/w1280".concat(o.value),c},s=function(e){r.value=!r.value},l=function(){r.value=!r.value,isHover.value=!isHover.value},v=function(){r.value=!r.value},d=function(){c.value.isLike=!c.value.isLike},m=function(){c.value.isFav=!c.value.isFav},b=function(e){c.value.isFav=!c.value.isFav};return{randomNum:a,trend:n,coverInfo:u,coverUrl:i,movie:c,handleClick:s,toggleIsLike:d,toggleAddFav:m,toggleRemoveFav:b,showModal:r,closeModalDetail:v,toggleModalDetail:l}}};n("28a6");const Vt=D()(qt,[["render",Ut],["__scopeId","data-v-1215966a"]]);var Kt=Vt,Wt={components:{MovieList:Pt,Cover:Kt}};n("2b5e");const Bt=D()(Wt,[["render",H]]);var Gt=Bt,Yt=function(e){return Object(r["w"])("data-v-2360d476"),e=e(),Object(r["u"])(),e},Qt={class:"container"},Xt=Yt((function(){return Object(r["g"])("h3",null,"Login",-1)})),Zt={key:0,class:"error"},$t={key:1},en={key:2,disabled:""},tn={class:"info"},nn=Yt((function(){return Object(r["g"])("p",null,"No Account?",-1)})),rn=Yt((function(){return Object(r["g"])("br",null,null,-1)})),an=Object(r["h"])("Signup!");function cn(e,t,n,a,i,c){var o=Object(r["A"])("router-link");return Object(r["t"])(),Object(r["f"])("div",Qt,[Object(r["g"])("form",{onSubmit:t[2]||(t[2]=Object(r["K"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[Xt,Object(r["J"])(Object(r["g"])("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),placeholder:"email",required:""},null,512),[[r["E"],a.email]]),Object(r["J"])(Object(r["g"])("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e}),placeholder:"password",required:""},null,512),[[r["E"],a.password]]),a.error?(Object(r["t"])(),Object(r["f"])("div",Zt,Object(r["C"])(a.error),1)):Object(r["e"])("",!0),a.isPending?Object(r["e"])("",!0):(Object(r["t"])(),Object(r["f"])("button",$t,"Log in")),a.isPending?(Object(r["t"])(),Object(r["f"])("button",en,"Loading")):Object(r["e"])("",!0),Object(r["g"])("div",tn,[nn,rn,Object(r["i"])(o,{to:{name:"Signup"}},{default:Object(r["I"])((function(){return[an]})),_:1})])],32)])}var on=Object(r["y"])(null),un=Object(r["y"])(!1),sn=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return on.valur=null,un.value=!0,e.prev=2,e.next=5,w.signInWithEmailAndPassword(t,n);case 5:return r=e.sent,on.value=null,un.value=!1,e.abrupt("return",r);case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0.message),on.value=e.t0.message,un.value=!1;case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}(),ln=function(){return{error:on,isPending:un,login:sn}},vn=ln,dn={setup:function(){var e=vn(),t=e.error,n=e.login,r=e.isPending,a=Object(S["c"])(),i=Object(be["l"])(""),c=Object(be["l"])(""),o=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n(i.value,c.value);case 2:e.sent,t.value||a.push({name:"Home"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{email:i,password:c,handleSubmit:o,error:t,isPending:r}}};n("d3d1");const mn=D()(dn,[["render",cn],["__scopeId","data-v-2360d476"]]);var bn=mn,fn=function(e){return Object(r["w"])("data-v-1517afd6"),e=e(),Object(r["u"])(),e},pn={class:"container"},On=fn((function(){return Object(r["g"])("h3",null,"Signup",-1)})),jn={key:0,class:"error"},gn={key:1},hn={key:2,disabled:""},kn={class:"info"},wn=fn((function(){return Object(r["g"])("p",null,"Already have a account?",-1)})),yn=fn((function(){return Object(r["g"])("br",null,null,-1)})),xn=Object(r["h"])("Login!");function _n(e,t,n,a,i,c){var o=Object(r["A"])("router-link");return Object(r["t"])(),Object(r["f"])("div",pn,[Object(r["g"])("form",{onSubmit:t[3]||(t[3]=Object(r["K"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[On,Object(r["J"])(Object(r["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.displayname=e}),placeholder:"displayname",required:""},null,512),[[r["E"],a.displayname]]),Object(r["J"])(Object(r["g"])("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.email=e}),placeholder:"email",required:""},null,512),[[r["E"],a.email]]),Object(r["J"])(Object(r["g"])("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e}),placeholder:"password",required:""},null,512),[[r["E"],a.password]]),a.error?(Object(r["t"])(),Object(r["f"])("div",jn,Object(r["C"])(a.error),1)):Object(r["e"])("",!0),a.isPending?Object(r["e"])("",!0):(Object(r["t"])(),Object(r["f"])("button",gn,"Sign up")),a.isPending?(Object(r["t"])(),Object(r["f"])("button",hn,"Loading")):Object(r["e"])("",!0),Object(r["g"])("div",kn,[wn,yn,Object(r["i"])(o,{to:{name:"Login"}},{default:Object(r["I"])((function(){return[xn]})),_:1})])],32)])}var Ln=Object(r["y"])(null),Mn=Object(r["y"])(!1),In=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Ln.value=null,Mn.value=!0,e.prev=2,e.next=5,w.createUserWithEmailAndPassword(t,n);case 5:if(a=e.sent,a){e.next=8;break}throw new Error("Could not complete signup");case 8:return e.next=10,a.user.updateProfile({displayName:r});case 10:return Mn.value=!1,e.abrupt("return",a);case 14:e.prev=14,e.t0=e["catch"](2),console.log(e.t0.message),Ln.value=e.t0.message,Mn.value=!1;case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Rn=function(){return{error:Ln,isPending:Mn,signup:In}},Sn=Rn,Fn={setup:function(){var e=Sn(),t=e.error,n=e.signup,r=e.isPending,a=Object(S["c"])(),i=Object(be["l"])(""),c=Object(be["l"])(""),o=Object(be["l"])(""),u=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n(i.value,c.value,o.value);case 2:e.sent,t.value||a.push({name:"Home"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{email:i,password:c,displayname:o,isPending:r,error:t,handleSubmit:u}}};n("c027");const Cn=D()(Fn,[["render",_n],["__scopeId","data-v-1517afd6"]]);var Dn=Cn,Jn=function(e){return Object(r["w"])("data-v-36198a4e"),e=e(),Object(r["u"])(),e},An=Jn((function(){return Object(r["g"])("h1",null,"My List",-1)}));function Tn(e,t,n,a,i,c){var o=Object(r["A"])("MyMovieList");return Object(r["t"])(),Object(r["f"])(r["a"],null,[An,Object(r["i"])(o,{movies:a.movies},null,8,["movies"])],64)}var Nn=n("5530"),Pn=(n("159b"),function(e,t){var n,a=Object(r["y"])(null),i=Object(r["y"])(null),c=k.collection(e);t&&(c=(n=c).where.apply(n,Object(Pe["a"])(t)));var o=c.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){t.push(Object(Nn["a"])(Object(Nn["a"])({},e.data()),{},{id:e.id}))})),i.value=t,a.value=null}),(function(e){console.log(e.message),i.value=null,a.value=e.message}));return Object(r["H"])((function(e){e((function(){return o()}))})),{documents:i,error:a}}),zn=Pn,Hn=function(e){return Object(r["w"])("data-v-87fa6ea4"),e=e(),Object(r["u"])(),e},En={class:"row"},Un=Hn((function(){return Object(r["g"])("h2",null,"My List",-1)})),qn={class:"slide"};function Vn(e,t,n,a,i,c){var o=Object(r["A"])("SingleMovie");return Object(r["t"])(),Object(r["f"])("div",En,[Un,Object(r["g"])("div",qn,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(n.movies,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"movie-list",key:e.id},[Object(r["i"])(o,{movie:e},null,8,["movie"])])})),128))])])}var Kn={components:{SingleMovie:At},props:["movies"]};n("d329");const Wn=D()(Kn,[["render",Vn],["__scopeId","data-v-87fa6ea4"]]);var Bn=Wn,Gn={components:{MyMovieList:Bn},setup:function(){var e=R(),t=e.user,n=zn("movielists",["userId","==",t.value.uid]),r=n.documents;return{movies:r}}};n("f210");const Yn=D()(Gn,[["render",Tn],["__scopeId","data-v-36198a4e"]]);var Qn,Xn=Yn,Zn=function(e,t,n){var r=w.currentUser;r?n():er.push({name:"Login"})},$n=[{path:"/",name:"Home",component:Gt,beforeEnter:Zn},{path:"/login",name:"Login",component:bn},{path:"/signup",name:"Signup",component:Dn},{path:"/mylist",name:"MyList",component:Xn,beforeEnter:Zn}],er=Object(S["a"])({history:Object(S["b"])("/simplenetflix-vue/"),routes:$n}),tr=er;n("845f");w.onAuthStateChanged((function(){Qn||(Qn=Object(r["c"])(P).use(tr).mount("#app"))}))},"5c97":function(e,t,n){"use strict";n("4173")},"5d8c":function(e,t,n){},6589:function(e,t,n){"use strict";n("f70b")},7612:function(e,t,n){},7840:function(e,t,n){"use strict";n("7612")},"845f":function(e,t,n){},"874e":function(e,t,n){},adf4:function(e,t,n){"use strict";n("f28c")},c027:function(e,t,n){"use strict";n("0bc9")},d329:function(e,t,n){"use strict";n("874e")},d3d1:function(e,t,n){"use strict";n("2858")},d3d3:function(e,t,n){"use strict";n("16a0")},f210:function(e,t,n){"use strict";n("296a")},f28c:function(e,t,n){},f70b:function(e,t,n){}});
//# sourceMappingURL=app.57404b7d.js.map